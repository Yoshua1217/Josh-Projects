<style>
    /* ... existing styles ... */

    /* This forces the Expense card to span all columns */
    .full-width-card {
        grid-column: 1 / -1; 
        margin-top: 10px;
    }

    /* Adjusted link grid for wide view: 2 columns for links within the wide card */
    .exp-link-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 12px;
    }

    .delete-btn {
        color: #ff4d4d;
        cursor: pointer;
        font-size: 0.8rem;
        padding: 5px;
        opacity: 0.5;
        transition: opacity 0.2s;
    }

    .delete-btn:hover { opacity: 1; }
</style>

<div class="dashboard-grid">
    <div class="card">
        <div class="card-title">Cash & Cheque (CS)</div>
        <div class="link-grid">
            <a href="https://yoshua1217.github.io/Josh-Projects/CSTape.html" target="_blank" class="link-card">CS Tape <span>External</span></a>
            <a href="https://gospelcentre-my.sharepoint.com/:f:/p/kkirsch/IgCzBwy2XxbWQKZgv6TQpHg3AcVDB4bz3rc4hxqUuFjzDNE?e=8I80ge" target="_blank" class="link-card">Upload Folder <span>SharePoint</span></a>
            <a href="https://gospelcentre-my.sharepoint.com/:x:/p/kkirsch/IQAHz0DUWp6RSbZ3BqtQk4HlAXZHaj8QSgvEIJWSGIseWE8?e=NLcH8i" target="_blank" class="link-card">Receipts <span>Excel</span></a>
        </div>
    </div>

    <div class="card">
        <div class="card-title">E-Transfer (eT)</div>
        <div class="link-grid">
            <a href="https://gospelcentre-my.sharepoint.com/:f:/p/kkirsch/IgCkgFZSOIjKTqPXGkHiOjK0AdR6qb-IwGNoQjI6-9je_60?e=ETg3dI" target="_blank" class="link-card">eT Folder <span>SharePoint</span></a>
            <a href="https://gospelcentre-my.sharepoint.com/:x:/p/kkirsch/IQA0EnpHIWlKSaqjJ5ICOoQXAVzRpJNq8uJ2eRviVNhFP1g?e=df6uoC" target="_blank" class="link-card">eT Spreadsheet <span>Excel</span></a>
        </div>
    </div>

    <div class="card">
        <div class="card-title">Online Giving (OG)</div>
        <div class="link-grid">
            <a href="https://gospelcentre-my.sharepoint.com/:f:/p/kkirsch/IgBGqKTVgVkMToepcVLCTCiNAT9QZ3f4jyzu9z6ydb-5WbE?e=YJO86V" target="_blank" class="link-card">OG Folder <span>SharePoint</span></a>
            <a href="https://gospelcentre.breezechms.com/login/?redirect=https://gospelcentre.breezechms.com/payments/add" target="_blank" class="link-card">Breeze Login <span>Direct</span></a>
        </div>
    </div>

    <div class="card full-width-card">
        <div class="card-title">Expense Claims (ExpC)</div>
        <div id="expense-container" class="exp-link-grid">
            </div>
    </div>
</div>

<script>
    // Updated render function to include a delete button
    function renderLink(title, url, index) {
        const div = document.createElement('div');
        div.className = 'link-card';
        div.style.justifyContent = 'space-between';
        
        div.innerHTML = `
            <a href="${url.startsWith('http') ? url : 'https://' + url}" target="_blank" style="color:inherit; text-decoration:none; flex-grow:1;">
                ${title} <span style="margin-left:10px;">Link</span>
            </a>
            <span class="delete-btn" onclick="deleteLink(${index})">âœ•</span>
        `;
        container.appendChild(div);
    }

    function deleteLink(index) {
        let saved = JSON.parse(localStorage.getItem('expenseLinks')) || [];
        saved.splice(index, 1);
        localStorage.setItem('expenseLinks', JSON.stringify(saved));
        refreshLinks();
    }

    function refreshLinks() {
        container.innerHTML = '';
        const saved = JSON.parse(localStorage.getItem('expenseLinks')) || [];
        saved.forEach((link, index) => renderLink(link.title, link.url, index));
    }

    // Call refreshLinks instead of renderLink in window.onload and saveLink
    window.onload = refreshLinks;
</script>
